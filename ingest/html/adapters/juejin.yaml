# Juejin (juejin.cn) — for HTTP-fetched page HTML (Go fetch), not SingleFile.
# SSR HTML: article body is in #article-root .article-viewer.markdown-body; meta from itemprop.
meta:
  title: "css:meta[itemprop=headline]@content"
  url: "css:link[rel=canonical]@href"
  published_at: "css:meta[itemprop=datePublished]@content"
  authors: "css:div[itemprop=author] meta[itemprop=name]@content"
content:
  root: "css:#article-root"
  # Block order: first match wins. blockquote/list are emitted as one section (parser skips
  # their descendants). img is always figure even inside p — do not skip descendants for p.
  blocks:
    - type: heading
      selector: "h1, h2, h3, h4, h5, h6"
    - type: paragraph
      selector: "p"
    - type: code
      selector: "pre code, pre"
    - type: figure
      selector: "img"
      attrs:
        src: "src"
        caption: "alt"
    - type: list
      selector: "ul, ol"
    - type: paragraph
      selector: "blockquote"
